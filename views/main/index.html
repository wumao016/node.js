{%extends 'layout.html'%}
{%block content%}
    {% for content in contents %}
    <div class="listbox">
        <h1>{{content.title}}</h1>
        <p class="coldefalt">
            作者：<span class="colinfo">{{content.user.username}}</span>
            时间：<span class="colinfo">{{content.addTime|date('Y年m月d日 H:i:s',-8*60)}}</span>
            阅读：<span class="colinfo">{{content.views}}</span>
            评论：<span class="colinfo">{{content.comments.length}}</span>
        </p>
        <dfn><p>{{content.description}}</p></dfn>
        <div class="function"><a href="/view?contentid={{content.id}}">阅读全文</a></div>
    </div>
    {% endfor %}
    <div class="clear"></div>
    <div class="paging">
        <ul>
            <li class="previous">
                {%if page<=1%}
                <span>没有上一页</span>
                {%else%}
                <a href="/?category={{category}}&page={{page-1}}">上一页</a>
                {%endif%}
            </li>
            {% if pages>0%}
            <li class="pagw">
                <strong>{{page}}/{{pages}}</strong>
            </li>
            {{%endif%}}

            <li class="next">
                {%if page>=pages%}
                <span>没有下一页</span>
                {%else%}
                <a href="/?category={{category}}&page={{page+1}}">下一页</a>
                {%endif%}
            </li>
        </ul>
    </div>
{%endblock%}